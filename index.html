<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Friday IA</title>
    <!-- React Dependencies -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 20px;
            height: calc(100vh - 40px);
        }
        .sidebar {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            color: white;
        }
        .main-content {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            overflow: hidden;
        }
        .feature-item {
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.1);
        }
        .nav-item {
            padding: 10px;
            margin: 5px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .nav-item:hover {
            background: rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <h2 class="text-xl font-bold mb-6">Friday IA</h2>
            <div class="mb-8">
                <div class="nav-item">üè† In√≠cio</div>
                <div class="nav-item">üí¨ Chat</div>
                <div class="nav-item">‚öôÔ∏è Configura√ß√µes</div>
                <div class="nav-item">‚ùì Ajuda</div>
            </div>
            <div>
                <h3 class="text-sm font-semibold mb-3">RECURSOS</h3>
                <div class="feature-item">
                    <h4 class="font-medium">Processamento de Linguagem</h4>
                    <div class="text-sm opacity-80">Compreens√£o avan√ßada de texto</div>
                </div>
                <div class="feature-item">
                    <h4 class="font-medium">An√°lise de Dados</h4>
                    <div class="text-sm opacity-80">Insights em tempo real</div>
                </div>
                <div class="feature-item">
                    <h4 class="font-medium">Assist√™ncia 24/7</h4>
                    <div class="text-sm opacity-80">Sempre dispon√≠vel</div>
                </div>
            </div>
        </div>
        <div class="main-content">
            <div id="chat-root"></div>
        </div>
    </div>

    <script type="text/babel">
    const { useState, useRef, useEffect } = React;

    const ChatInterface = () => {
        const [messages, setMessages] = useState([]);
        const [input, setInput] = useState('');
        const [loading, setLoading] = useState(false);
        const [isRecording, setIsRecording] = useState(false);
        const chatEndRef = useRef(null);
        const [thinking, setThinking] = useState(false);

        const sendMessage = async (content) => {
            try {
                const response = await fetch('https://fridayia.karenvasconcel2.repl.co/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message: content })
                });
                const data = await response.json();
                return data.message || data.response || 'Desculpe, n√£o entendi.';
            } catch (error) {
                console.error('Erro:', error);
                return 'Desculpe, ocorreu um erro ao processar sua mensagem.';
            }
        };

        useEffect(() => {
            chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });
        }, [messages]);

        const simulateThinking = async () => {
            setThinking(true);
            await new Promise(resolve => setTimeout(resolve, 1500));
            setThinking(false);
        };

        const handleSubmit = async (e) => {
            e.preventDefault();
            if (!input.trim()) return;

            const userMessage = {
                role: 'user',
                content: input,
                timestamp: new Date().toLocaleTimeString()
            };

            setMessages(prev => [...prev, userMessage]);
            setInput('');
            setLoading(true);
            
            await simulateThinking();
            const aiResponse = await sendMessage(input);
            
            const aiMessage = {
                role: 'assistant',
                content: aiResponse,
                timestamp: new Date().toLocaleTimeString()
            };

            setMessages(prev => [...prev, aiMessage]);
            setLoading(false);
        };

        const toggleRecording = () => {
            setIsRecording(!isRecording);
        };

        return (
            <div className="flex flex-col h-screen bg-gradient-to-b from-blue-50 to-purple-50">
                <div className="max-w-4xl w-full mx-auto p-4 flex-1 flex flex-col">
                    <div className="bg-white/80 backdrop-blur-lg rounded-3xl shadow-2xl flex-1 flex flex-col overflow-hidden border border-gray-200">
                        <div className="bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center space-x-3">
                                    <div className="relative">
                                        <div className="w-8 h-8">ü§ñ</div>
                                        <div className="w-4 h-4 absolute -top-1 -right-1 text-yellow-300 animate-pulse">‚ú®</div>
                                    </div>
                                    <div>
                                        <h1 className="text-2xl font-bold">Friday IA</h1>
                                        <p className="text-sm text-blue-100">Assistente Virtual Inteligente</p>
                                    </div>
                                </div>
                                <div className="flex items-center space-x-2">
                                    <div className={`w-3 h-3 rounded-full ${thinking ? 'bg-green-400 animate-pulse' : 'bg-green-500'}`} />
                                    <span className="text-sm">{thinking ? 'Pensando...' : 'Online'}</span>
                                </div>
                            </div>
                        </div>

                        <div className="flex-1 overflow-y-auto p-6 space-y-6">
                            {messages.length === 0 && (
                                <div className="text-center">
                                    <div className="bg-gradient-to-r from-blue-500 to-purple-500 w-16 h-16 rounded-full mx-auto mb-6 flex items-center justify-center">
                                        <div className="w-8 h-8 text-white">ü§ñ</div>
                                    </div>
                                    <h2 className="text-2xl font-bold text-gray-800 mb-2">Bem-vindo ao Friday IA</h2>
                                    <p className="text-gray-600">Como posso ajudar voc√™ hoje?</p>
                                </div>
                            )}
                            
                            {messages.map((message, index) => (
                                <div
                                    key={index}
                                    className={`flex items-start space-x-3 ${
                                        message.role === 'user' ? 'flex-row-reverse space-x-reverse' : ''
                                    }`}
                                >
                                    <div className={`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center ${
                                        message.role === 'user' 
                                            ? 'bg-gradient-to-r from-blue-500 to-blue-600' 
                                            : 'bg-gradient-to-r from-purple-500 to-purple-600'
                                    }`}>
                                        {message.role === 'user' ? 'üë§' : 'ü§ñ'}
                                    </div>
                                    <div className={`flex flex-col space-y-1 max-w-[80%]`}>
                                        <div className={`rounded-2xl p-4 shadow-sm ${
                                            message.role === 'user' 
                                                ? 'bg-blue-500 text-white rounded-tr-none' 
                                                : 'bg-white text-gray-800 rounded-tl-none'
                                        }`}>
                                            {message.content}
                                        </div>
                                        <span className="text-xs text-gray-400">{message.timestamp}</span>
                                    </div>
                                </div>
                            ))}
                            
                            {loading && (
                                <div className="flex items-start space-x-3">
                                    <div className="flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 flex items-center justify-center">
                                        ü§ñ
                                    </div>
                                    <div className="bg-white rounded-2xl rounded-tl-none p-4 shadow-sm">
                                        <div className="flex space-x-2">
                                            <div className="w-2 h-2 bg-purple-500 rounded-full animate-bounce" style={{ animationDelay: '0ms' }} />
                                            <div className="w-2 h-2 bg-purple-500 rounded-full animate-bounce" style={{ animationDelay: '150ms' }} />
                                            <div className="w-2 h-2 bg-purple-500 rounded-full animate-bounce" style={{ animationDelay: '300ms' }} />
                                        </div>
                                    </div>
                                </div>
                            )}
                            <div ref={chatEndRef} />
                        </div>

                        <div className="p-6 bg-white border-t border-gray-200">
                            <form onSubmit={handleSubmit} className="flex space-x-3">
                                <button
                                    type="button"
                                    onClick={toggleRecording}
                                    className={`p-3 rounded-full transition-colors duration-200 ${
                                        isRecording 
                                            ? 'bg-red-500 hover:bg-red-600' 
                                            : 'bg-gray-100 hover:bg-gray-200'
                                    }`}
                                >
                                    {isRecording ? '‚¨õ' : 'üé§'}
                                </button>
                                
                                <input
                                    type="text"
                                    value={input}
                                    onChange={(e) => setInput(e.target.value)}
                                    placeholder="Digite sua mensagem..."
                                    className="flex-1 bg-gray-100 rounded-full px-6 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow duration-200"
                                />
                                
                                <button
                                    type="submit"
                                    disabled={loading}
                                    className="bg-gradient-to-r from-blue-500 to-purple-500 text-white p-3 rounded-full hover:opacity-90 disabled:opacity-50 transition-all duration-200 shadow-lg hover:shadow-xl"
                                >
                                    {loading ? '‚åõ' : 'üì®'}
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        );
    };

    const root = ReactDOM.createRoot(document.getElementById('chat-root'));
    root.render(<ChatInterface />);
    </script>
</body>
</html>
